(function(e){function t(t){for(var n,A,c=t[0],s=t[1],i=t[2],d=0,l=[];d<c.length;d++)A=c[d],Object.prototype.hasOwnProperty.call(a,A)&&a[A]&&l.push(a[A][0]),a[A]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);u&&u(t);while(l.length)l.shift()();return o.push.apply(o,i||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,c=1;c<r.length;c++){var s=r[c];0!==a[s]&&(n=!1)}n&&(o.splice(t--,1),e=A(A.s=r[0]))}return e}var n={},a={app:0},o=[];function A(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,A),r.l=!0,r.exports}A.m=e,A.c=n,A.d=function(e,t,r){A.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},A.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},A.t=function(e,t){if(1&t&&(e=A(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(A.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)A.d(r,n,function(t){return e[t]}.bind(null,n));return r},A.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return A.d(t,"a",t),t},A.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},A.p="/threefoldfoundation/stellar_faucet/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var i=0;i<c.length;i++)t(c[i]);var u=s;o.push([1,"chunk-vendors"]),r()})({0:function(e,t){},1:function(e,t,r){e.exports=r("56d7")},2:function(e,t){},3:function(e,t){},39340:function(e,t,r){"use strict";var n=r("82f1"),a=r.n(n);a.a},4:function(e,t){},5:function(e,t){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-img",{staticClass:"logo",attrs:{src:r("d07c")}}),n("v-content",{attrs:{"fill-height":""}},[n("v-layout",{attrs:{"justify-center":"","fill-height":""}},[n("v-layout",{attrs:{column:"","align-center":"","justify-center":""}},[n("router-view")],1)],1)],1)],1)},o=[],A={name:"App"},c=A,s=(r("cdb6"),r("2877")),i=r("6544"),u=r.n(i),d=r("7496"),l=r("a75b"),p=r("adda"),f=r("a722"),b=Object(s["a"])(c,a,o,!1,null,"2e4e42d6",null),v=b.exports;u()(b,{VApp:d["a"],VContent:l["a"],VImg:p["a"],VLayout:f["a"]});var h=r("f309");n["a"].use(h["a"]);var g,y,m=new h["a"]({theme:{dark:!1,themes:{dark:{primary:"#57be8e"},light:{primary:"#57be8e"}}}}),w=r("a65d"),B=r.n(w),O=r("8c4f"),x=(r("99af"),r("96cf"),r("1da1")),j={botFrontEnd:"https://login.threefold.me",botBackend:"https://login.threefold.me/",redirect_url:"threefoldfoundation/stellar_faucet/#/callback",appId:window.location.host,seedPhrase:"weather smooth little world side palace green armor busy view solution escape"},_=(r("d3b7"),r("427a")),P=r("7dee"),F=r("29c9"),k={validateSignature:function(e,t,r){return new Promise(function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P.ready;case 2:r=Object(_["decodeBase64"])(r),t=Object(_["decodeBase64"])(t),a=P.crypto_sign_open(t,r),n(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},decrypt:function(e,t,r,n){return new Promise(function(){var a=Object(x["a"])(regeneratorRuntime.mark((function a(o){var A;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=Object(_["decodeBase64"])(e),a.next=3,P.ready;case 3:r=P.crypto_sign_ed25519_sk_to_curve25519(Object(_["decodeBase64"])(r)),n=P.crypto_sign_ed25519_pk_to_curve25519(Object(_["decodeBase64"])(n)),t=Object(_["decodeBase64"])(t),A=P.crypto_box_open_easy(e,t,n,r),A=Object(_["encodeUTF8"])(A),o(A);case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},validateSignedAttempt:function(e,t){return new Promise(function(){var r=Object(x["a"])(regeneratorRuntime.mark((function r(n,a){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,P.ready;case 2:t=Object(_["decodeBase64"])(t),e=Object(_["decodeBase64"])(e),o=P.crypto_sign_open(e,t),o||a("Invalid signature."),n(o);case 7:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}())},encrypt:function(e,t,r){return new Promise(function(){var n=Object(x["a"])(regeneratorRuntime.mark((function n(a){var o,A;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e=(new TextEncoder).encode(e),n.next=3,P.ready;case 3:t=P.crypto_sign_ed25519_sk_to_curve25519(Object(_["decodeBase64"])(t)),r=P.crypto_sign_ed25519_pk_to_curve25519(Object(_["decodeBase64"])(r)),o=P.randombytes_buf(P.crypto_secretbox_NONCEBYTES),A=P.crypto_box_easy(e,o,r,t),a({encrypted:Object(_["encodeBase64"])(A),nonce:Object(_["encodeBase64"])(o)});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},generateKeys:function(e){return new Promise(function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(r){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,P.ready;case 2:e||(e=F.entropyToMnemonic(P.randombytes_buf(P.crypto_box_SEEDBYTES/2))),n=(new TextEncoder).encode(F.mnemonicToEntropy(e)),a=P.crypto_sign_seed_keypair(n),r({phrase:e,privateKey:Object(_["encodeBase64"])(a.privateKey),publicKey:Object(_["encodeBase64"])(a.publicKey)});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},getEdPkInCurve:function(e){return Object(_["encodeBase64"])(P.crypto_sign_ed25519_pk_to_curve25519(Object(_["decodeBase64"])(e)))}},V=r("4487"),R={name:"login",data:function(){return{privateKey:null,publicKey:null,privateKey2:null,publicKey2:null,message:null,encrypted:null,decrypted:null,nonce:null}},mounted:function(){this.login()},methods:{login:function(){return Object(x["a"])(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=V.generate(),window.localStorage.setItem("state",t),e.next=4,k.generateKeys(j.seedPhrase);case 4:r=e.sent,n=j.appId,window.location.href="".concat(j.botFrontEnd,"?state=").concat(t,"&appid=").concat(n,"&publickey=").concat(encodeURIComponent(k.getEdPkInCurve(r.publicKey)),"&redirecturl=").concat(encodeURIComponent(j.redirect_url));case 7:case"end":return e.stop()}}),e)})))()},redirect:function(e,t,r,n,a){return Object(x["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:window.location.href="".concat(j.botFrontEnd,"?state=").concat(e,"&scope=").concat(t,"&appid=").concat(r,"&publickey=").concat(encodeURIComponent(k.getEdPkInCurve(n)),"&redirecturl=").concat(encodeURIComponent(a));case 1:case"end":return o.stop()}}),o)})))()}}},C=R,E=Object(s["a"])(C,g,y,!1,null,null,null),S=E.exports,I=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{id:"inspire"}},[r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"4",lg:"12",md:"10",sm:"6"}},[r("h1",[e._v("FreeTFT Faucet")]),r("v-card",{staticClass:"elevation-12"},[r("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[r("v-toolbar-title",{staticClass:"title"},[e._v("Fund a FreeTFT address")])],1),r("v-card-text",[r("v-form",{on:{submit:function(t){return t.preventDefault(),e.fundAddress(t)}}},[r("v-text-field",{attrs:{required:"",placeholder:"Address"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}}),e.error?r("p",{attrs:{id:"errortext"}},[e._v("This address probably does not exist or does not have a trustline with the issuer of our Stellar TFT (Testnet).")]):e._e()],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"ma-2",attrs:{color:"primary",loading:e.loading,disabled:e.loading||""===e.address},on:{click:function(t){return e.fundAddress()}}},[e._v(" Fund ")])],1)],1),r("br"),r("br"),r("v-card",{staticClass:"elevation-12"},[r("v-card-text",[r("p",[e._v("Here you can request FreeTFT, you can use this FreeTFT to pay for free capacity. Fill in a valid stellar address that has a trustline to the issuer of FreeTFT tokens.")])])],1)],1)],1)],1)],1)},Q=[],T=r("bc3a"),W=r.n(T);function L(e,t){return W.a.post("/threefoldfoundation/stellar_faucet/actors/stellar_faucet/transfer",{args:{destination:e,signed_attempt_object:t}})}var z={data(){return{error:!1,address:"",loading:!1,signedAttemptObject:void 0,username:void 0}},async mounted(){let e=new URL(window.location.href),t=e.searchParams.get("error");if(t)return void console.log("Error: ",t);let r=JSON.parse(e.searchParams.get("signedAttempt"));this.signedAttemptObject=r},methods:{fundAddress(){this.loading=!0,this.error=!1,console.log(this.signedAttemptObject),L(this.address,this.signedAttemptObject).then(e=>{200==e.status?(this.loading=!1,this.$toasted.success("Address funded successfully")):this.error=!0}).catch(()=>{this.error=!0,this.loading=!1})}},name:"FundAccount"},K=z,U=(r("39340"),r("8336")),q=r("b0af"),H=r("99d9"),M=r("62ad"),D=r("a523"),X=r("4bd4"),Z=r("0fd9"),Y=r("2fa4"),N=r("8654"),J=r("71d9"),G=r("2a7f"),$=Object(s["a"])(K,I,Q,!1,null,"617d5d34",null),ee=$.exports;u()($,{VApp:d["a"],VBtn:U["a"],VCard:q["a"],VCardActions:H["a"],VCardText:H["b"],VCol:M["a"],VContainer:D["a"],VForm:X["a"],VRow:Z["a"],VSpacer:Y["a"],VTextField:N["a"],VToolbar:J["a"],VToolbarTitle:G["a"]}),n["a"].use(O["a"]);var te=new O["a"]({base:"/threefoldfoundation/stellar_faucet",routes:[{path:"/",name:"login",component:S},{path:"/callback",name:"callback",component:ee}]});n["a"].config.productionTip=!1,n["a"].use(B.a,{duration:3e3,theme:"bubble",position:"bottom-center"}),new n["a"]({vuetify:m,router:te,render:function(e){return e(v)}}).$mount("#app")},"82f1":function(e,t,r){},cdb6:function(e,t,r){"use strict";var n=r("e8b1"),a=r.n(n);a.a},d07c:function(e,t){e.exports="data:image/png;base64,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"},e8b1:function(e,t,r){}});
//# sourceMappingURL=app.68954e06.js.map